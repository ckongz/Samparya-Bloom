<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        Full Name: Sophia Casey M. ONG
        Section: WD-202
        Activity: SAMPARYA BLOOM FINALS
        Date: OCTOBER 19, 2025
    -->
    <title>Who We Are - Sampary√° Bloom</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styles.min.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <!-- Favicon declarations for different devices and platforms -->
    <link rel="shortcut icon" href="images/favicon.ico.jpg"/>
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png" />
    <link rel="icon" sizes="192X192" href="images/android-chrome-192.png" />
</head>
<body>
    <!-- Top Banner for delivery information -->
    <div class="top-banner">
        We offer free delivery in Angeles City for orders Php 6,000 and up.
    </div>

    <!-- Header Section -->
    <header>
        <!-- Hamburger Menu Button (Mobile Only) -->
        <button class="hamburger-menu" aria-label="Open navigation menu">
            <div class="hamburger-icon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>

        <!-- Desktop Navigation (Hidden on Mobile ‚â§768px) -->
        <div class="desktop-nav">
            <a href="index.html">HOME</a>
            <a href="contact_location.html">CONTACT US</a>
        </div>

        <!-- Logo (Center) -->
        <div class="logo">
            <a href="index.html">
                <img src="images/Logo.png" alt="Sampary√° Bloom Logo">
            </a>
        </div>

        <!-- Desktop Header Right (Hidden on Mobile ‚â§768px) -->
        <div class="header-right">
            <!-- Dropdown navigation for quick links -->
            <div class="dropdown-nav">
                <button class="dropdown-toggle">Quick Links</button>
                <div class="dropdown-menu">
                    <a href="who_we_are.html">Who We Are</a>
                    <a href="our_story.html">Our Story</a>
                    <a href="contact_location.html">Locations</a>
                    <a href="policy.html">Privacy Policy</a>
                    <a href="feedback.html">Feedback</a>
                    <a href="terms_of_service.html">Terms of Service</a>
                </div>
            </div>
            <a href="sign_in_register.html">SIGN IN / REGISTER</a>
            
            <!-- Cart Icon for Desktop - Inside header-right -->
            <div class="cart-icon cart-desktop" onclick="window.location.href='cart.html'" role="button" aria-label="Shopping cart" tabindex="0">
                üõí
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </div>

        <!-- Cart Icon for Mobile - Outside header-right -->
        <div class="cart-icon cart-mobile" onclick="window.location.href='cart.html'" role="button" aria-label="Shopping cart" tabindex="0">
            üõí
            <span class="cart-count" id="cartCountMobile">0</span>
        </div>
    </header>

    <!-- Mobile Navigation Overlay (Dark background when menu is open) -->
    <div class="mobile-nav-overlay" aria-hidden="true"></div>

    <!-- Mobile Navigation Menu (Slide-in from left) -->
    <div class="mobile-nav" aria-label="Mobile navigation">
        <div class="mobile-nav-header">
            <div class="mobile-nav-logo">
                <img src="images/Logo.png" alt="Sampary√° Bloom">
            </div>
            <button class="mobile-nav-close" aria-label="Close navigation menu">&times;</button>
        </div>
        
        <div class="mobile-nav-content">
            <!-- Main Menu Section -->
            <div class="mobile-nav-section">
                <h3>Main Menu</h3>
                <a href="index.html">Home</a>
                <a href="contact_location.html">Contact Us</a>
            </div>

            <!-- Shop Section -->
            <div class="mobile-nav-section">
                <h3>Products</h3>
                <a href="flowers.html">Flowers</a>
                <a href="ocassions.html">Occasions</a>
            </div>

            <!-- Quick Links Section -->
            <div class="mobile-nav-section">
                <h3>Quick Links</h3>
                <a href="who_we_are.html">Who We Are</a>
                <a href="our_story.html">Our Story</a>
                <a href="contact_location.html">Locations</a>
                <a href="policy.html">Privacy Policy</a>
                <a href="feedback.html">Feedback</a>
                <a href="terms_of_service.html">Terms of Service</a>
            </div>

            <!-- Sign In Button (Featured) -->
            <div class="mobile-nav-signin">
                <a href="sign_in_register.html">Sign In / Register</a>
            </div>
        </div>
    </div>

    <!-- Category Navigation -->
    <div class="category-nav">
        <a href="flowers.html">FLOWERS</a>
        <a href="ocassions.html">OCCASIONS</a>
    </div>

    <!-- Who We Are Content Section -->
    <section class="sb-who-we-are">
        <!-- Hero Section -->
        <section class="hero">
            <h1>Beyond Blooms: Experience</h1>
            <h2>Sampary√° Bloom</h2>
        </section>

        <!-- Main Content Section -->
        <section class="content-section">
            <!-- Text Content -->
            <div class="text-content">
                <h3>SAMPARY√Å BLOOM PHILIPPINES</h3>
                <h4>Who We Are</h4>
                <h5>Our Business</h5>
                <h6>Sampary√° Bloom</h6>
                <p>What started as a small family-run flower shop in Angeles City, Pampanga, has now blossomed into a trusted name in the region. We're known not just for our premium flowers and home decor selections.</p>
                <p>Over the years, we've decorated everything from homes and intimate gatherings to large-scale celebrations and corporate events. We don't just sell flowers but unforgettable memories. Our carefully selected products include high-end, imported blooms and handpicked home accents that elevate any space.</p>
            </div>
            
            <!-- Image Container -->
            <div class="image-container">
                <img src="images/who-we-are-girl.png" alt="Flower arrangement">
            </div>
        </section>

        <!-- Commitment Section -->
        <section class="commitment-section">
            <div class="commitment-content">
                <h4>Our Commitment</h4>
                <h6>RESPONSIBLE SOURCING</h6>
                <p>At Sampary√° Bloom, our commitment goes beyond creating stunning floral arrangements ‚Äî it's about doing right by both people and the world around us. We take pride in ensuring that every flower and material we use is ethically and sustainably obtained.</p>
                <p>From partnering with trusted growers who practice eco-friendly farming to sourcing supplies who share our values, we work to minimize our environmental impact while supporting local communities. This approach allows us to deliver premium, meaningful blooms that not only brighten someone's day but also respect the planet and the people behind every petal.</p>
            </div>
        </section>
    </section>

           <!-- Flower Experts Section -->
    <section class="flower-experts-section">
        <h2>Flower Experts</h2>
        <p class="subtitle">
            A perfect blend of creativity, passion, and precision. Meet the talented team who craft each floral masterpiece with care, let us arrange a smile for you.
        </p>

        <!-- Experts Grid -->
        <div class="experts-grid">
            <div class="expert-card">
                <div class="expert-image">
                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400" alt="Marina Alonso">
                </div>
                <h3 class="expert-name">Marina Alonso</h3>
                <p class="expert-role">Biologist</p>
            </div>

            <div class="expert-card">
                <div class="expert-image">
                    <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400" alt="Shara Pilsen">
                </div>
                <h3 class="expert-name">Shara Pilsen</h3>
                <p class="expert-role">Photographer</p>
            </div>

            <div class="expert-card">
                <div class="expert-image">
                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400" alt="Teryl Greab">
                </div>
                <h3 class="expert-name">Teryl Greab</h3>
                <p class="expert-role">Florist</p>
            </div>

            <div class="expert-card">
                <div class="expert-image">
                    <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400" alt="Alonsa Gamell">
                </div>
                <h3 class="expert-name">Alonsa Gamell</h3>
                <p class="expert-role">Florist</p>
            </div>
        </div>
    </section>

    <!-- ====================================
         DESKTOP CONTENT (Hidden on Mobile)
    ==================================== -->
    <section class="desktop-content">
        <div class="desktop-content-image">
            <img src="images/prem.png" alt="Floral Workshop">
        </div>
        <div class="desktop-content-text">
            <h3>Crafting Beauty with Passion</h3>
            <p>Our expert florists bring years of experience and an unwavering dedication to their craft. Each arrangement is thoughtfully designed to capture emotion, celebrate moments, and create lasting memories.</p>
            <p>From intimate bouquets to grand event installations, we approach every project with the same level of care and artistic vision.</p>
        </div>
    </section>

    <!-- ====================================
         MOBILE-ONLY CONTENT (Visible Only on Mobile)
    ==================================== -->
    <section class="mobile-only-content">
        <h3>Explore Our Floral Gallery</h3>
        <p style="color: #6b6b6b; line-height: 1.6; margin-bottom: 20px;">
            Discover stunning floral arrangements crafted by our expert team. Each piece tells a unique story of beauty and elegance.
        </p>

        <!-- Mobile Gallery -->
        <div class="mobile-gallery">
            <div class="mobile-gallery-item">
                <img src="https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=600" alt="Beautiful Bouquet 1">
            </div>
            <div class="mobile-gallery-item">
                <img src="https://images.unsplash.com/photo-1563241527-3004b7be0ffd?w=600" alt="Beautiful Bouquet 2">
            </div>
            <div class="mobile-gallery-item">
                <img src="https://images.unsplash.com/photo-1464047736614-af63643285bf?w=600" alt="Beautiful Bouquet 3">
            </div>
        </div>

        <!-- Call to Action Button -->
        <div class="mobile-cta">
            <a href="flowers.html" class="mobile-cta-button">Browse All Flowers</a>
        </div>
    </section>

        <!-- =============================================
         AUDIO PLAYER
    ============================================= -->
    <div class="home-audio-player" id="audioPlayer">
        <button class="home-close-button" id="closeButton" onclick="toggleAudioPlayer()" title="Close player">√ó</button>
        
        <div class="home-album-art" id="albumArt">üéµ</div>
        
        <div class="home-audio-info">
            <div class="home-song-info">
                <div class="home-song-name">Seasons</div>
                <div class="home-artist-name">
                    wave to earth
                    <span class="home-sound-wave" id="soundWave">
                        <span class="home-wave-bar"></span>
                        <span class="home-wave-bar"></span>
                        <span class="home-wave-bar"></span>
                        <span class="home-wave-bar"></span>
                    </span>
                </div>
            </div>
            
            <div class="home-progress-section">
                <span class="home-time" id="currentTime">0:00</span>
                <div class="home-audio-progress" id="progressContainer">
                    <div class="home-audio-progress-bar" id="progressBar"></div>
                </div>
                <span class="home-time" id="totalTime">0:00</span>
            </div>
        </div>

        <div class="home-controls">
            <button class="home-like-button" id="likeButton" onclick="toggleLike()"></button>
            <button class="home-play-button" id="playButton" onclick="togglePlay()">
                <span class="home-play-icon">‚ñ∂</span>
                <span class="home-pause-icon">‚è∏</span>
            </button>
            <button class="home-volume-button" id="volumeButton" onclick="toggleMute()">üîä</button>
        </div>
        
        <audio id="bgAudio" loop>
            <source src="media/wave to earth - seasons.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!--  (will appear when main player is closed) -->
    <div class="home-audio-minimized" id="minimizedPlayer" onclick="toggleAudioPlayer()" title="Open music player">
        <div class="home-minimized-icon">üéµ</div>
        <span class="home-minimized-text">Music</span>
    </div>

    <!-- Footer Section -->
    <footer>
        <div class="footer-content">
            <!-- Company Links -->
            <div class="footer-links">
                <h5>SB PHILIPPINES</h5>
                <ul>
                    <li><a href="who_we_are.html">Who We Are</a></li>
                    <li><a href="our_story.html">Our Story</a></li>
                    <li><a href="contact_location.html">Locations</a></li>
                    <li><a href="policy.html">Privacy Policy</a></li>
                    <li><a href="feedback.html">Feedback</a></li>
                    <li><a href="terms_of_service.html">Terms of service</a></li>
                </ul>
            </div>
            
            <!-- Newsletter Signup -->
            <div class="newsletter">
                <h4>Gain Exclusive Access</h4>
                <p>Sign up today and receive exclusive discounts, early sales, style tips, and more.</p>
                <div class="newsletter-form">
                    <input type="email" placeholder="Your email">
                    <button>JOIN</button>
                </div>
                
                <!-- Social Media Links -->
                <div class="social-icons">
                    <a href="https://www.instagram.com/christructure" class="social-link instagram" target="_blank">
                        <img src="images/ig-logo.png" alt="Instagram" style="width: 24px; height: 24px; object-fit: contain;">
                    </a>
                    <a href="https://www.facebook.com/christructure" class="social-link facebook" target="_blank">
                        <img src="images/fb-logo.png" alt="Facebook" style="width: 24px; height: 24px; object-fit: contain;">
                    </a>
                </div>
            </div>
        </div>                                
        
        <!-- Footer Bottom -->
        <div class="footer-bottom">
            ¬©2025 Sampary√° Bloom. All rights reserved ‚Äî Designed and created with grace by Sophia Ong
            <p class="footer-mail">
                <a href="mailto:sbphilippines.net">sbphilippines.net</a>
            </p>
        </div>
    </footer>

    <!-- Cart Management Script -->
    <script>
    // Cart Manager Object
    const cartManager = {
        // Retrieve cart from localStorage or initialize empty array
        cart: JSON.parse(localStorage.getItem("cart")) || [],

        // Save cart to localStorage and update count display
        saveCart() {
            localStorage.setItem("cart", JSON.stringify(this.cart));
            this.updateCartCount();
        },

        // Update cart count in both desktop and mobile views
        updateCartCount() {
            try {
                const count = this.cart.length;
                
                // Update desktop cart count
                const cartCountEl = document.getElementById("cartCount");
                if (cartCountEl) cartCountEl.textContent = count;
                
                // Update mobile cart count
                const cartCountMobileEl = document.getElementById("cartCountMobile");
                if (cartCountMobileEl) cartCountMobileEl.textContent = count;
            } catch (error) {
                console.error("Error updating cart count:", error);
            }
        }
    };

    // Initialize cart count on page load
    document.addEventListener("DOMContentLoaded", () => {
        cartManager.updateCartCount();
    });

    // -------------------------
    // PAGE SWITCHING FUNCTIONALITY
    // -------------------------
    function showPage(pageId) {
        try {
            const pages = document.querySelectorAll(".bloomify-page");
            pages.forEach(page => page.classList.remove("active"));
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add("active");
                window.scrollTo(0, 0);
            }
        } catch (error) {
            console.error("Error switching page:", error);
        }
    }

    // Dropdown functionality for quick links
    document.addEventListener("DOMContentLoaded", () => {
        const dropdown = document.querySelector('.dropdown-nav');
        const dropdownToggle = document.querySelector('.dropdown-toggle');
        
        if (dropdownToggle && dropdown) {
            // Toggle dropdown on click
            dropdownToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('active');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!dropdown.contains(e.target)) {
                    dropdown.classList.remove('active');
                }
            });
        }
    });
    </script>

    <!-- Mobile Navigation and UI Scripts -->
    <script>
    // =============================================
    // MOBILE HAMBURGER MENU FUNCTIONALITY
    // =============================================
    document.addEventListener('DOMContentLoaded', function() {
        
        // Get all necessary elements
        const hamburgerMenu = document.querySelector('.hamburger-menu');
        const mobileNav = document.querySelector('.mobile-nav');
        const mobileNavOverlay = document.querySelector('.mobile-nav-overlay');
        const mobileNavClose = document.querySelector('.mobile-nav-close');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav a');

        // Check if elements exist
        if (!hamburgerMenu || !mobileNav || !mobileNavOverlay) {
            console.warn('Mobile menu elements not found');
            return;
        }

        // ==================
        // OPEN MOBILE MENU
        // ==================
        hamburgerMenu.addEventListener('click', function() {
            openMobileMenu();
        });

        function openMobileMenu() {
            hamburgerMenu.classList.add('active');
            mobileNav.classList.add('active');
            mobileNavOverlay.classList.add('active');
            document.body.classList.add('mobile-menu-open');
            document.body.style.overflow = 'hidden';
            
            // Focus first menu item for accessibility
            const firstLink = mobileNav.querySelector('a');
            if (firstLink) {
                setTimeout(() => firstLink.focus(), 100);
            }
        }

        // ==================
        // CLOSE MOBILE MENU
        // ==================
        function closeMobileMenu() {
            hamburgerMenu.classList.remove('active');
            mobileNav.classList.remove('active');
            mobileNavOverlay.classList.remove('active');
            document.body.classList.remove('mobile-menu-open');
            document.body.style.overflow = '';
            
            // Return focus to hamburger button
            hamburgerMenu.focus();
        }

        // Close button click
        if (mobileNavClose) {
            mobileNavClose.addEventListener('click', function() {
                closeMobileMenu();
            });
        }

        // Overlay click
        mobileNavOverlay.addEventListener('click', function() {
            closeMobileMenu();
        });

        // ==================
        // CLOSE ON LINK CLICK
        // ==================
        mobileNavLinks.forEach(function(link) {
            link.addEventListener('click', function() {
                // Small delay for better UX
                setTimeout(function() {
                    closeMobileMenu();
                }, 300);
            });
        });

        // ==================
        // KEYBOARD SUPPORT
        // ==================
        
        // ESC key to close menu
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        // ==================
        // WINDOW RESIZE HANDLER
        // ==================
        let resizeTimer;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                // If screen is resized to desktop size, close mobile menu
                if (window.innerWidth > 768 && mobileNav.classList.contains('active')) {
                    closeMobileMenu();
                }
            }, 250);
        });

        // ==================
        // TOUCH SWIPE TO CLOSE
        // ==================
        let touchStartX = 0;
        let touchEndX = 0;

        mobileNav.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        mobileNav.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            // Swipe left to close (distance > 50px)
            if (touchStartX - touchEndX > 50) {
                closeMobileMenu();
            }
        }, { passive: true });

        // ==================
        // FOCUS TRAP (for accessibility)
        // ==================
        mobileNav.addEventListener('keydown', function(e) {
            if (e.key === 'Tab') {
                const focusableElements = mobileNav.querySelectorAll(
                    'a[href], button:not([disabled])'
                );
                const firstElement = focusableElements[0];
                const lastElement = focusableElements[focusableElements.length - 1];

                if (e.shiftKey) {
                    // Shift + Tab
                    if (document.activeElement === firstElement) {
                        e.preventDefault();
                        lastElement.focus();
                    }
                } else {
                    // Tab
                    if (document.activeElement === lastElement) {
                        e.preventDefault();
                        firstElement.focus();
                    }
                }
            }
        });

        console.log('Mobile menu initialized successfully');
    });

    // =============================================
    // CART ICON KEYBOARD SUPPORT
    // =============================================
    document.addEventListener("DOMContentLoaded", function() {
        const cartIcon = document.querySelector('.cart-icon');
        if (cartIcon) {
            cartIcon.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    window.location.href = 'cart.html';
                }
            });
        }
    });
    </script>

        <!-- =============================================
                     AUDIO PLAYER 
    ============================================= -->
    <script>
    // Audio player state
    let isAudioPlayerVisible = true;

    // SIMPLE GLOBAL FUNCTIONS - NO CONFLICTS
    function togglePlay(event) {
        if (event) event.stopPropagation();
        console.log('üéµ PLAY button clicked');
        
        const audio = document.getElementById('bgAudio');
        const playButton = document.getElementById('playButton');
        const albumArt = document.getElementById('albumArt');
        const soundWave = document.getElementById('soundWave');
        
        if (audio && playButton) {
            if (audio.paused) {
                audio.play().catch(error => {
                    console.error('Audio play failed:', error);
                });
                playButton.classList.add('playing');
                if (albumArt) albumArt.classList.add('playing');
                if (soundWave) soundWave.classList.add('active');
            } else {
                audio.pause();
                playButton.classList.remove('playing');
                if (albumArt) albumArt.classList.remove('playing');
                if (soundWave) soundWave.classList.remove('active');
            }
        }
    }

    function toggleMute(event) {
        if (event) event.stopPropagation();
        console.log('üîá MUTE button clicked');
        
        const audio = document.getElementById('bgAudio');
        const volumeButton = document.getElementById('volumeButton');
        
        if (audio && volumeButton) {
            audio.muted = !audio.muted;
            volumeButton.textContent = audio.muted ? 'üîá' : 'üîä';
        }
    }

    function toggleLike(event) {
        if (event) event.stopPropagation();
        console.log('‚ù§Ô∏è LIKE button clicked');
        
        const likeButton = document.getElementById('likeButton');
        if (likeButton) {
            likeButton.classList.toggle('liked');
        }
    }

    function toggleAudioPlayer(event) {
        if (event) event.stopPropagation();
        console.log('üîÑ TOGGLE player visibility');
        
        const audioPlayer = document.getElementById('audioPlayer');
        const minimizedPlayer = document.getElementById('minimizedPlayer');
        
        if (audioPlayer && minimizedPlayer) {
            isAudioPlayerVisible = !isAudioPlayerVisible;
            
            if (isAudioPlayerVisible) {
                // Show full player, hide minimized
                audioPlayer.style.display = 'grid';
                minimizedPlayer.style.display = 'none';
            } else {
                // Hide full player, show minimized
                audioPlayer.style.display = 'none';
                minimizedPlayer.style.display = 'flex';
            }
        }
    }

    // Initialize audio functionality
    function initializeAudioPlayer() {
        console.log('üöÄ Initializing audio player...');
        
        const audio = document.getElementById('bgAudio');
        const playButton = document.getElementById('playButton');
        const volumeButton = document.getElementById('volumeButton');
        const likeButton = document.getElementById('likeButton');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('totalTime');
        const soundWave = document.getElementById('soundWave');
        const albumArt = document.getElementById('albumArt');
        const closeButton = document.getElementById('closeButton');
        const minimizedPlayer = document.getElementById('minimizedPlayer');
        
        // Set initial states
        if (minimizedPlayer) {
            minimizedPlayer.style.display = 'none';
        }
        
        if (volumeButton && audio) {
            volumeButton.textContent = audio.muted ? 'üîá' : 'üîä';
        }
        
        // Progress bar functionality
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        function updateProgress() {
            if (audio && audio.duration) {
                const progressPercent = (audio.currentTime / audio.duration) * 100;
                if (progressBar) {
                    progressBar.style.width = `${progressPercent}%`;
                }
                if (currentTimeEl) {
                    currentTimeEl.textContent = formatTime(audio.currentTime);
                }
            }
        }
        
        function setProgress(e) {
            if (audio && audio.duration) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                audio.currentTime = (clickX / width) * audio.duration;
            }
        }
        
        // Audio event listeners
        if (audio) {
            audio.addEventListener('loadedmetadata', function() {
                if (durationEl) {
                    durationEl.textContent = formatTime(audio.duration);
                }
            });
            
            audio.addEventListener('timeupdate', updateProgress);
            
            audio.addEventListener('play', function() {
                console.log('üîä Audio playing');
                if (playButton) playButton.classList.add('playing');
                if (albumArt) albumArt.classList.add('playing');
                if (soundWave) soundWave.classList.add('active');
            });
            
            audio.addEventListener('pause', function() {
                console.log('‚è∏Ô∏è Audio paused');
                if (playButton) playButton.classList.remove('playing');
                if (albumArt) albumArt.classList.remove('playing');
                if (soundWave) soundWave.classList.remove('active');
            });
        }
        
        // Progress bar click
        if (progressContainer) {
            progressContainer.addEventListener('click', setProgress);
        }
        
        console.log('‚úÖ Audio player initialized');
    }

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üìÑ Page loaded, initializing audio...');
        
        // Initialize audio player
        initializeAudioPlayer();
        
        // Add single event listeners to prevent conflicts
        const playBtn = document.getElementById('playButton');
        const volumeBtn = document.getElementById('volumeButton');
        const likeBtn = document.getElementById('likeButton');
        const closeBtn = document.getElementById('closeButton');
        const minimizedBtn = document.getElementById('minimizedPlayer');
        
        // Remove any existing inline handlers and add clean ones
        if (playBtn) {
            playBtn.onclick = togglePlay;
        }
        
        if (volumeBtn) {
            volumeBtn.onclick = toggleMute;
        }
        
        if (likeBtn) {
            likeBtn.onclick = toggleLike;
        }
        
        if (closeBtn) {
            closeBtn.onclick = toggleAudioPlayer;
        }
        
        if (minimizedBtn) {
            minimizedBtn.onclick = toggleAudioPlayer;
        }
        
        console.log('üéâ All audio controls ready!');
    });

    // Keyboard shortcut
    document.addEventListener('keydown', function(event) {
        if (event.key === 'm' || event.key === 'M') {
            toggleAudioPlayer();
        }
    });

    // Emergency fallback
    window.addEventListener('load', function() {
        console.log('üîÑ Final audio check...');
        
        // Test if buttons work
        setTimeout(function() {
            console.log('üí° Test commands:');
            console.log('   - togglePlay()');
            console.log('   - toggleMute()'); 
            console.log('   - toggleLike()');
            console.log('   - toggleAudioPlayer()');
        }, 1000);
    });
    </script>
</body>
</html>
